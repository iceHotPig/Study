<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Context Menu on DataGrid - jQuery EasyUI Demo</title><link rel="stylesheet" href="../../themes/default/easyui.css"><link rel="stylesheet" href="../../themes/icon.css"><link rel="stylesheet" href="../demo.css"><script src="../../jquery.min.js"></script><script src="../../jquery.easyui.min.js"></script></head><body><h2>Context Menu on DataGrid</h2><p>Right click on the header of DataGrid to display context menu.</p><div style="margin:20px 0"></div><table id="dg"></table><script>!function(a){a.extend(a.fn.datagrid.methods,{columnMenu:function(t){return function(e){var t=a(e).data("datagrid");if(!t.columnMenu){t.columnMenu=a("<div></div>").appendTo("body"),t.columnMenu.menu({onClick:function(t){"tree-checkbox1"==t.iconCls?(a(e).datagrid("hideColumn",t.name),a(this).menu("setIcon",{target:t.target,iconCls:"tree-checkbox0"})):(a(e).datagrid("showColumn",t.name),a(this).menu("setIcon",{target:t.target,iconCls:"tree-checkbox1"}))}});for(var n=a(e).datagrid("getColumnFields",!0).concat(a(e).datagrid("getColumnFields",!1)),i=0;i<n.length;i++){var d=n[i],o=a(e).datagrid("getColumnOption",d);t.columnMenu.menu("appendItem",{text:o.title,name:d,iconCls:"tree-checkbox1"})}}return t.columnMenu}(t[0])}})}(jQuery),$(function(){$("#dg").datagrid({url:"datagrid_data1.json",method:"get",title:"Context Menu on DataGrid",iconCls:"icon-save",width:700,height:250,fitColumns:!0,singleSelect:!0,columns:[[{field:"itemid",title:"Item ID",width:80},{field:"productid",title:"Product ID",width:120},{field:"listprice",title:"List Price",width:80,align:"right"},{field:"unitcost",title:"Unit Cost",width:80,align:"right"},{field:"attr1",title:"Attribute",width:250},{field:"status",title:"Status",width:60,align:"center"}]],onHeaderContextMenu:function(t,e){t.preventDefault(),$(this).datagrid("columnMenu").menu("show",{left:t.pageX,top:t.pageY})}})})</script></body></html>