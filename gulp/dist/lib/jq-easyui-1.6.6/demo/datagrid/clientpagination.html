<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Client Side Pagination in DataGrid - jQuery EasyUI Demo</title><link rel="stylesheet" href="../../themes/default/easyui.css"><link rel="stylesheet" href="../../themes/icon.css"><link rel="stylesheet" href="../demo.css"><script src="../../jquery.min.js"></script><script src="../../jquery.easyui.min.js"></script></head><body><h2>Client Side Pagination in DataGrid</h2><p>This sample shows how to implement client side pagination in DataGrid.</p><div style="margin:20px 0"></div><table id="dg" title="Client Side Pagination" style="width:700px;height:300px" data-options="
				rownumbers:true,
				singleSelect:true,
				autoRowHeight:false,
				pagination:true,
				pageSize:10"><thead><tr><th field="inv" width="80">Inv No</th><th field="date" width="100">Date</th><th field="name" width="80">Name</th><th field="amount" width="80" align="right">Amount</th><th field="price" width="80" align="right">Price</th><th field="cost" width="100" align="right">Cost</th><th field="note" width="110">Note</th></tr></thead></table><script>function getData(){for(var a=[],t=1;t<=800;t++){var r=Math.floor(1e3*Math.random()),e=Math.floor(1e3*Math.random());a.push({inv:"Inv No "+t,date:$.fn.datebox.defaults.formatter(new Date),name:"Name "+t,amount:r,price:e,cost:r*e,note:"Note "+t})}return a}!function(s){function i(a){s.isArray(a)&&(a={total:a.length,rows:a});var i=this,t=s(i),r=t.data("datagrid"),e=t.datagrid("options");if(r.allRows||(r.allRows=a.rows),!e.remoteSort&&e.sortName){var d=e.sortName.split(","),l=e.sortOrder.split(",");r.allRows.sort(function(a,t){for(var r=0,e=0;e<d.length;e++){var o=d[e],n=l[e];if(0!=(r=(s(i).datagrid("getColumnOption",o).sorter||function(a,t){return a==t?0:t<a?1:-1})(a[o],t[o])*("asc"==n?1:-1)))return r}return r})}var o=(e.pageNumber-1)*parseInt(e.pageSize),n=o+parseInt(e.pageSize);return a.rows=r.allRows.slice(o,n),a}var r=s.fn.datagrid.methods.loadData,o=s.fn.datagrid.methods.deleteRow;s.extend(s.fn.datagrid.methods,{clientPaging:function(a){return a.each(function(){var r=s(this),e=r.data("datagrid"),o=e.options;o.loadFilter=i;var t=o.onBeforeLoad;o.onBeforeLoad=function(a){return e.allRows=null,t.call(this,a)};var n=r.datagrid("getPager");n.pagination({onSelectPage:function(a,t){o.pageNumber=a,o.pageSize=t,n.pagination("refresh",{pageNumber:a,pageSize:t}),r.datagrid("loadData",e.allRows)}}),s(this).datagrid("loadData",e.data),o.url&&s(this).datagrid("reload")})},loadData:function(a,t){return a.each(function(){s(this).data("datagrid").allRows=null}),r.call(s.fn.datagrid.methods,a,t)},deleteRow:function(a,e){return a.each(function(){var a=s(this).datagrid("getRows")[e];o.call(s.fn.datagrid.methods,s(this),e);var t=s(this).data("datagrid");if(t.options.loadFilter==i){for(var r=0;r<t.allRows.length;r++)if(t.allRows[r]==a){t.allRows.splice(r,1);break}s(this).datagrid("loadData",t.allRows)}})},getAllRows:function(a){return a.data("datagrid").allRows}})}(jQuery),$(function(){$("#dg").datagrid({data:getData()}).datagrid("clientPaging")})</script></body></html>