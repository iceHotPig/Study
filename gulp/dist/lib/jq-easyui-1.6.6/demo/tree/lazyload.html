<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Lazy Load Tree Nodes - jQuery EasyUI Demo</title><link rel="stylesheet" href="../../themes/default/easyui.css"><link rel="stylesheet" href="../../themes/icon.css"><link rel="stylesheet" href="../demo.css"><script src="../../jquery.min.js"></script><script src="../../jquery.easyui.min.js"></script></head><body><h2>Lazy Load Tree Nodes</h2><p>Get full hierarchical tree data but lazy load nodes level by level.</p><div style="margin:20px 0"></div><div class="easyui-panel" style="padding:5px"><ul class="easyui-tree" data-options="url:'tree_data1.json',method:'get',loadFilter:myLoadFilter"></ul></div><script>function myLoadFilter(i,r){var d=$.data(this,"tree");!function(){for(var r=1,n=[],e=0;e<i.length;e++)n.push(i[e]);for(;n.length;){var t=n.shift();null==t.id&&(t.id="_node_"+r++),t.children&&(t.state="closed",t.children1=t.children,t.children=void 0,n=n.concat(t.children1))}d.tdata=i}();var t=$(this),l=t.tree("options");return l.onBeforeExpand=function(r){var n=function(r){for(var n=[d.tdata];n.length;)for(var e=n.shift(),t=0;t<e.length;t++){var i=e[t];if(i.id==r)return i;i.children1&&n.push(i.children1)}return null}(r.id);if((!n.children||!n.children.length)&&n.children1){var e=l.loadFilter;l.loadFilter=function(r){return r},t.tree("append",{parent:r.target,data:n.children1}),l.loadFilter=e,n.children=n.children1}},i}</script></body></html>