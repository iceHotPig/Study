<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Editable TreeGrid - jQuery EasyUI Demo</title><link rel="stylesheet" href="../../themes/default/easyui.css"><link rel="stylesheet" href="../../themes/icon.css"><link rel="stylesheet" href="../demo.css"><script src="../../jquery.min.js"></script><script src="../../jquery.easyui.min.js"></script></head><body><h2>Editable TreeGrid</h2><p>Select one node and click edit button to perform editing.</p><div style="margin:20px 0"><a href="javascript:void(0)" class="easyui-linkbutton" onclick="edit()">Edit</a> <a href="javascript:void(0)" class="easyui-linkbutton" onclick="save()">Save</a> <a href="javascript:void(0)" class="easyui-linkbutton" onclick="cancel()">Cancel</a></div><table id="tg" class="easyui-treegrid" title="Editable TreeGrid" style="width:700px;height:250px" data-options="
				iconCls: 'icon-ok',
				rownumbers: true,
				animate: true,
				collapsible: true,
				fitColumns: true,
				url: 'treegrid_data2.json',
				method: 'get',
				idField: 'id',
				treeField: 'name',
				showFooter: true
			"><thead><tr><th data-options="field:'name',width:180,editor:'text'">Task Name</th><th data-options="field:'persons',width:60,align:'right',editor:'numberbox'">Persons</th><th data-options="field:'begin',width:80,editor:'datebox'">Begin Date</th><th data-options="field:'end',width:80,editor:'datebox'">End Date</th><th data-options="field:'progress',width:120,formatter:formatProgress,editor:'numberbox'">Progress</th></tr></thead></table><script>function formatProgress(e){return e?'<div style="width:100%;border:1px solid #ccc"><div style="width:'+e+'%;background:#cc0000;color:#fff">'+e+"%</div>":""}var editingId;function edit(){if(null==editingId){var e=$("#tg").treegrid("getSelected");e&&(editingId=e.id,$("#tg").treegrid("beginEdit",editingId))}else $("#tg").treegrid("select",editingId)}function save(){if(null!=editingId){var e=$("#tg");e.treegrid("endEdit",editingId),editingId=void 0;for(var i=0,d=e.treegrid("getChildren"),t=0;t<d.length;t++){var r=parseInt(d[t].persons);isNaN(r)||(i+=r)}e.treegrid("getFooterRows")[0].persons=i,e.treegrid("reloadFooter")}}function cancel(){null!=editingId&&($("#tg").treegrid("cancelEdit",editingId),editingId=void 0)}</script></body></html>